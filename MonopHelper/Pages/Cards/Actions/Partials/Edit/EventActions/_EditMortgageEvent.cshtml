@using Microsoft.AspNetCore.Mvc.TagHelpers
@using MonopolyCL.Extensions
@model MonopolyCL.Models.Cards.CardActions.EventActions.ActionViewModel<MonopolyCL.Models.Cards.CardActions.EventActions.ForceMortgageEvent>?

@if (Model == null || Model.Action == null)
{
    <p class="text-danger">An error occured. Model is NULL.</p>
}
else
{
    <form method="post" asp-controller="CardAction" asp-action="EditMortgageEvent">
        <input type="hidden" asp-for="Action!.ActionId"/>
        <input type="hidden" asp-for="Action!.Group"/>
        <input type="hidden" asp-for="Action!.EventType"/>
        <input type="hidden" asp-for="CardId"/>

        <div class="mb-3">
            <label asp-for="Action!.Properties"></label>
            <input asp-for="Action!.Properties" class="form-control"/>
            <span asp-validation-for="Action!.Properties" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label asp-for="Action!.Turns"></label>
            <input asp-for="Action!.Turns" class="form-control"/>
            <span asp-validation-for="Action!.Turns" class="text-danger"></span>
        </div>
        <div class="mb-3 form-check form-switch">
            @if (Model.Action!.IsReceiveValue)
            {
                <input asp-for="Action!.IsReceiveValue" id="is-miss" class="form-check-input" checked/>
            }
            else
            {
                <input asp-for="Action!.IsReceiveValue" id="is-miss" class="form-check-input"/>
            }
            <label class="form-check-label" for="is-miss" asp-for="Action!.IsReceiveValue"></label>
        </div>
        <div class="mb-3 form-check form-switch">
            @if (Model.Action!.IsPayPenalty)
            {
                <input asp-for="Action!.IsPayPenalty" id="is-miss" class="form-check-input" checked/>
            }
            else
            {
                <input asp-for="Action!.IsPayPenalty" id="is-miss" class="form-check-input"/>
            }
            <label class="form-check-label" for="is-miss" asp-for="Action!.IsPayPenalty"></label>
        </div>
        <div class="mb-3">
            <label asp-for="Action!.PlayerAction"></label>
            <select asp-for="Action!.PlayerAction" asp-items="Model.Action!.PlayerAction.GetSelectList()" class="form-select"></select>
            <span asp-validation-for="Action!.PlayerAction" class="text-danger"></span>
        </div>
        <button class="btn btn-success">@(Model.IsAdding ? "Add" : "Modify") Action</button>
    </form>
}

