@using MonopolyCL.Extensions
@using MonopolyCL.Models.Cards.CardActions.EventActions
@model MonopolyCL.Models.Cards.CardActions.EventActions.ActionViewModel<JailEvent>?

@if (Model == null || Model.Action == null)
{
    <p class="text-danger">An error occured. Model is NULL.</p>
}
else
{
    
    <form method="post" asp-controller="CardAction" asp-action="EditJailEvent">
        <input type="hidden" asp-for="Action!.ActionId"/>
        <input type="hidden" asp-for="Action!.Group"/>
        <input type="hidden" asp-for="Action!.EventType"/>
        <input type="hidden" asp-for="CardId"/>

        <div class="mb-3">
            <label asp-for="Action!.JailEventType"></label>
            <select asp-for="Action!.JailEventType" asp-items="Model.Action!.JailEventType.GetSelectList()" class="form-select"
                    onchange="ShowFields(this)">
            </select>
            <span asp-validation-for="Action!.JailEventType" class="text-danger"></span>
        </div>
        <div class="mb-3" id="jail-turns" hidden="@(Model.Action!.JailEventType != JailEventType.STAY_IN_JAIL)">
            <label asp-for="Action!.Turns"></label>
            <input asp-for="Action!.Turns" class="form-control"/>
            <span asp-validation-for="Action!.Turns" class="text-danger"></span>
        </div>
        <div class="mb-3" id="jail-swap" hidden="@(Model.Action!.JailEventType != JailEventType.SWAP)">
            <label asp-for="Action!.PlayerSwap"></label>
            <select asp-for="Action!.PlayerSwap" asp-items="Model.Action!.PlayerSwap.GetSelectList()" class="form-select"></select>
            <span asp-validation-for="Action!.PlayerSwap" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label asp-for="Action!.PlayerAction"></label>
            <select asp-for="Action!.PlayerAction" asp-items="Model.Action!.PlayerAction.GetSelectList()" class="form-select"></select>
            <span asp-validation-for="Action!.PlayerAction" class="text-danger"></span>
        </div>
        <button class="btn btn-success">@(Model.IsAdding ? "Add" : "Modify") Action</button>
    </form>
}

<script type="text/javascript">
    
</script>